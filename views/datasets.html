<!-- <search-bar ng-if="!isMobile"></search-bar> -->
<search-bar-home ng-if="!isMobile"></search-bar-home>
<div role="main">
    <div id="content" class="container">
        <categories-row ng-if="!isMobile"></categories-row>
        <categories-sidebar ng-if="isMobile"></categories-sidebar>
        <filters-menu ng-if="isMobile"></filters-menu>
        <div class="flash-messages">
        </div>
        <div class="row datasets-header">
            <div class="col-lg-10 col-lg-offset-1">
                <div class="toolbar">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a ng-href="{{baseHtml5}}">Inicio</a>
                        </li>
                        <li class="breadcrumb-item" ng-if="!!currentCategory">
                            <a ng-href="datasets?categories.slug={{currentCategory.name| slug}}">{{currentCategory.name}}</a>
                        </li>
                    </ol>
                    <div class="datasets-counter" id="pagingDatasets">
                        <!--<div ng-show="countDatasets == -1">
                            <p> Buscando datasets </p>
                        </div>-->
                        <!--<div ng-show="countDatasets == 0">
                            <p> No se han encontrado datasets </p>
                        </div>-->
                        <div ng-show="countDatasets > 0">
                            <div class="dataset-counter-container">
                                <span ng-if="currentCategory.image" svg-img="currentCategory.image" data-currentcolor="{{currentCategory.color}}"></span>
                                <p class="dataset-quantity">{{countDatasets}}</p>
                            </div>
                            <p>Datasets</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <aside class="secondary col-lg-4" ng-if="!isMobile">
                <div class="col-lg-9 col-lg-offset-3">
                    <div class="filters">
                        <div>
                            <order-result ng-if="viewFilter"></order-result>
                            <tags-result ng-if="viewFilter"></tags-result>
                            <formats-result ng-if="viewFilter"></formats-result>
                            <organizations-result ng-if="viewFilter"></organizations-result>
                        </div>
                    </div>
                </div>
            </aside>
            <!-- <div class="primary col-lg-8"> -->
            <div class="primary col-xs-12 col-lg-7 text-center" ng-show="countDatasets == 0">
                <p class="no-data"> No se han encontrado datasets </p>
            </div>
            <div class="primary col-xs-12 col-lg-7 col-lg-offset-0" ng-if="countDatasets > 0">
                 <section class="module">
                    <div class="module-content">
                        <!--<div class="row center-spin" ng-if="showLoading">
                            <i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i>
                        </div>-->
                        <result-datasets ng-if="!showLoading"></result-datasets>
                    </div>
                    <div class="text-center">
                        <paging page="page" page-size="params.limit"
                                total="countDatasets" 
                                paging-action="paging('pageClick', page, pageSize, total)"
                                hide-if-empty="true" show-prev-next="true" show-first-last="true"
                                text-title-page="Página {page}"
                                text-title-first="Primera página"
                                text-title-last="Última página"
                                text-title-next="Siguiente"
                                text-title-prev="Anterior"></paging>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>
